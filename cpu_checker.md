
# CPUチェッカー (cpu_checker.py)

## 目的
AI（Gemini CLI）がシステムリソースを効率的に利用し、高負荷によるシステムの不安定化を防ぐために、CPU使用率を監視します。

## 機能
- システム全体のCPU使用率を定期的に（デフォルト5秒間隔で）監視します。
- 設定された閾値（デフォルト60%）を超えた場合、警告メッセージを出力し、AIに作業の一時停止を促します。
- `mpstat` コマンドを使用してCPU使用率を取得します。

## 使用方法
このスクリプトは、バックグラウンドで実行し、必要に応じてログを監視することを推奨します。

```bash
nohup python3 /home/hirosi/.gemini/tools/cpu_checker.py > /home/hirosi/cpu_checker.log 2>&1 &
```

ログの監視:
```bash
tail -f /home/hirosi/cpu_checker.log
```

## 備考
- `mpstat` コマンドがシステムにインストールされている必要があります。インストールされていない場合は、`sudo apt install sysstat` でインストールしてください。
- 閾値やチェック間隔は、スクリプト内の `threshold` および `check_interval` 変数を編集することで変更可能です。
- AIは、この警告メッセージを受け取った際に、進行中のタスクを一時停止するかどうかを判断する必要があります。このスクリプト自体がタスクを強制停止する機能は持ちません。
